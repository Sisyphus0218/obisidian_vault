2020K8009929017 侯昱帆
（8分）

##### 12.1 
现有一块320GB的SLC SSD，它的擦写上限(P/E cycles)是 100,000 次。假设SSD FTL能将写均匀分布在所有的闪存页上，若以每秒发 300,000 个写请求的速率写，请问多长时间这块SSD会被磨穿?

**解答**
SSD的页数目为 320GB/4KB=80M 
写次数最多为 80M×100000/2 
每秒 300,000 个写请求，则SSD磨穿时间 (80M×100000)/(2×300000)=1.33×10^7秒

>（-1）：擦写次数指写一次并擦一次，不用×2
>假设闪存页大小为4KB
>擦写上限：每页最多可以被写多少次。擦一次写一次算擦写上限一次。

##### 12.2 
现有一块SSD，每个擦除块有64页，且它读一页的延迟是20微秒，写一页的延迟是100微秒，擦除一块的时间是2毫秒。如果该SSD的FTL采用混合映射，分下面3种情况，计算回收一个块需要的时间。
1. Switch merge
2. Partial merge 且假设块中有效页为 40%
3. Full merge

**解答**
1. Switch merge：2ms
2. Partial merge：(20μs+100μs)×64×40%+2ms=5.072ms
3. Full merge：(20μs+100μs)×64+2ms=9.68ms

>（-1）：(3) 需要擦除2块，(20μs+100μs)×64+2ms×2=11.68ms
>Switch merge：擦除1块
>Partial merge：拷贝0.4块+擦除1块，拷贝=读+写
>Full merge：拷贝1块+擦除2块
>SSD只支持Plane间并行，Block内的读、写、擦除均为串行
>注意：擦除以块为粒度，而读写以页为粒度