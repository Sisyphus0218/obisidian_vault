2020K8009929017 侯昱帆
（7分）

##### 6.1 
某系统存在4个进程和5份可分配资源，当前的资源分配情况和最大需求如下表所示。求满足安全状态下X的最小值。请写出解题分析过程。
![[Pasted image 20221201161910.png]]

**解答**
当前资源请求矩阵
Process A  0 1 0 0 2
Process B  0 2 1 0 0
Process C  1 0 3 0 0
Process D  0 0 1 1 1
若x=0，无法满足。
若x=1，
可用资源分配给Process D，D完成运行后，可用资源为 1 1 3 3 3，
可用资源分配给Process A，A完成运行后，可用资源为 2 2 5 4 6，
可用资源分配给Process B，B完成运行后，可用资源为 4 4 7 5 6，
可用资源分配给Process C，C完成运行后，可用资源为 5 5 9 7 7。
故x最小为1。

##### 6.2 
两进程A和B各需要数据库中的3份记录1、2、3，若进程A以1、2、3的顺序请求这些资源，进程B也以同样的顺序请求这些资源，则将不会产生死锁。但若进程B以3、2、1的顺序请求这些资源，则可能会产生死锁。这3份资源存在6种可能的请求顺序，其中哪些请求顺序能保证无死锁产生？请写出解题分析过程。

**解答**
A以1、2、3的顺序运行。
分析B的运行顺序。

一、1、2、3
不会产生死锁。

二、1、3、2
（1）A运行1
（2）A运行2，B运行1
（3）B运行3
此时A占有资源2，需要访问资源3；B占有资源3，需要访问资源2，产生死锁。

三、2、1、3
（1）A运行1，B运行2
此时A占有资源1，需要访问资源2；B占有资源2，需要访问资源1，产生死锁。

四、2、3、1
不会产生死锁。

五、3、1、2
不会产生死锁。

六、3、2、1
（1）A运行1，B运行3
（2）B运行2
此时A占有资源1，需要访问资源2；B占有资源2，需要访问资源1，产生死锁。

综上，当B的顺序为123，231，312时，不会产生死锁。

>B以123或者132访问不会死锁，其他都会死锁。
>B213 A123
>B312 A123  A持有1和2请求3，B持有3请求1
>如果用一个释放一个根本不会死锁，只考虑拿到123用完再释放的情况。
>如果A和B都请求1，只有一个人会拿到1，肯定不会死锁。
